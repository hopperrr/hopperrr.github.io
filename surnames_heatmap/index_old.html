<!DOCTYPE html>
<html>
<head>
    <title>Italian Surnames </title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="awesomplete.css" />
    <link 
        rel="stylesheet" 
        href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
    />
</head>
<body>
	<input id="myinput" />
    <p id="demo"></p>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="map" style="width: 1200px; height: 1200px"></div>
    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"> </script>
    <script src="http://leaflet.github.io/Leaflet.heat/dist/leaflet-heat.js"> </script>
    <script src="awesomplete.js" async></script>
	<script src="awes.js"></script>
	<script src="./scripts/blank.js"></script>

    <script>

    var map = L.map('map').setView([41.5,12.39], 7);
    mapLink = '<a href="http://openstreetmap.org">OpenStreetMap</a>';
    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: '&copy; ' + mapLink + ' Contributors', maxZoom: 18, }).addTo(map);
	var heat = L.heatLayer(locat,{radius: 10, minOpacity: 50, blur: 30, maxZoom: 15,}).addTo(map);
	//code so that things wait for src to fully load  
    function includeJs(jsFilePath) {
    	var js = document.createElement("script");
    	js.type = "text/javascript";
    	js.src = jsFilePath;
		document.body.appendChild(js);
	}
	var input = document.getElementById("myinput");
	var awesomplete = new Awesomplete(input);
	awesomplete.list = awe;
	document.getElementById('myinput').addEventListener("awesomplete-select", function(event) {var locat_find = './scripts/' + event.text.value + '.js';

	(function(d, script) {
    	script = d.createElement('script');
    	script.type = 'text/javascript';
    	script.async = true;
    	script.onload = function(){
        // remote script has loaded
        //map.heat.remove();
       //map.removeLayer(heaters);
		var heaters = new L.FeatureGroup();
		
		var heat = L.heatLayer(locat,{radius: 10, minOpacity: 50, blur: 30, maxZoom: 15,}).addTo(map);

    	};
    	script.src = locat_find;
    	d.getElementsByTagName('head')[0].appendChild(script);
		}(document));

	});
    </script>
</body>
</html>